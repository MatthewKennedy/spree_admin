<sa-body>
  <div class="form-group form-floating">
    <%= select "#{param_prefix}", '[taxon_ids]', options_from_collection_for_select(promotion_rule.taxons, :id, :pretty_name, promotion_rule.taxon_ids), { include_hidden: false }, multiple: true,
                                    class: 'form-select',
                                    placeholder: I18n.t('spree.admin.order.search_categories'),
                                    data: {
                                            controller: 'ts--search',
                                            ts__search_uri_value: 'api/v2/platform/taxons',
                                            ts__search_val_value: 'id',
                                            ts__search_txt_value: 'pretty_name',
                                            ts__search_fields_value: ['pretty_name'],
                                            ts__search_ransack_value: ['pretty_name_i_cont']
                                          } %>

    <%= label_tag "#{param_prefix}_taxon_ids", I18n.t('spree.admin.taxon_rule.choose_taxons') %>
  </div>

  <div class="form-floating form-group mb-0">
    <%= select_tag("#{param_prefix}[preferred_match_policy]", options_for_select(Spree::Promotion::Rules::Taxon::MATCH_POLICIES.map{|s| [I18n.t("spree.admin.taxon_rule.match_#{s}"),s] }, promotion_rule.preferred_match_policy), {class: 'form-control form-select'}) %>
    <%= label_tag I18n.t('spree.admin.taxon_rule.label') %>
  </div>
</sa-body>
