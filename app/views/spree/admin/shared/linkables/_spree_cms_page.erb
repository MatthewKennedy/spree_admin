<% if resource.linked_resource %>
   <% resource_holder = [resource.linked_resource] %>
   <% id_holder = :id %>
   <% name_holder = :title %>
   <% active_id_holder = resource.linked_resource.id %>
 <% end %>
 <%= f.field_container :linked_resource_id do %>
  <%= f.select :linked_resource_id, options_from_collection_for_select(resource_holder || [], id_holder, name_holder, active_id_holder || nil), { include_blank: true },
                                     class: 'form-select',
                                     data: { controller: 'ts--search',
                                             ts__search_endpoint_value: 'cms_pages',
                                             ts__search_txt_value: 'title',
                                             ts__search_fields_value: ['title'],
                                             ts__search_ransack_value: ['title_i_cont'],
                                             ts__search_custom_params_value: [ ['[filter]type_not_eq', 'Spree::Cms::Pages::Homepage'] ] } %>

   <%= f.label :linked_resource_id, I18n.t('spree.admin.navigation.search_for_a_page') %>
   <small class="form-text text-muted"><%= resource.link %></small>
<% end %>
