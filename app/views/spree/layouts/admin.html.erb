<!DOCTYPE html>
<html lang="<%= I18n.locale %>">
  <head data-hook="admin_inside_head">
    <%= render partial: 'spree/admin/shared/head' %>
  </head>

  <body class="admin">

    <%#-------------------------------------------------%>
    <%# Main content                                    %>
    <%#-------------------------------------------------%>
    <div id="mainWrapper" class="container-fluid">
      <div class="row">

        <%#-------------------------------------------------%>
        <%# Menu                                            %>
        <%#-------------------------------------------------%>
        <%= render partial: 'spree/admin/shared/menu' %>

        <%#-------------------------------------------------%>
        <%# Main                                            %>
        <%#-------------------------------------------------%>
        <main class="col-12 col-lg-9 col-xl-10 offset-lg-3 offset-xl-2 main <%= "tabsAndActionsShim" if content_for?(:page_tabs) %>" id="main-part">

          <%#-------------------------------------------------%>
          <%# Content Header (page title/actions)             %>
          <%#-------------------------------------------------%>
          <%= render partial: 'spree/admin/shared/content_header' %>

          <div class="container mb-5">
            <div class="row">

              <%#-------------------------------------------------%>
              <%# Main content                                    %>
              <%#-------------------------------------------------%>
              <div class="<%= content_for?(:sidebar) ? 'with-sidebar col-12 col-lg-9' : 'col-12' %> mb-4" id="content" data-hook>
                <%#= render partial: 'spree/admin/shared/table_filter' if content_for?(:table_filter) %>
                <%= yield %>
              </div>

              <%#-------------------------------------------------%>
              <%# Inner aside                                     %>
              <%#-------------------------------------------------%>
              <% if content_for?(:sidebar) || content_for?(:page_actions) %>
                <div class="col-12 col-lg-3 m-0 p-4 p-lg-0" id="contextualSideMenu">
                  <%= render partial: 'spree/admin/shared/sidebar' %>
                </div>
              <% end %>

            </div>
          </div>
        </main>
      </div>
    </div>

    <%#-------------------------------------------------%>
    <%# Insert footer scripts here                      %>
    <%#-------------------------------------------------%>
    <div data-hook="admin_footer_scripts"></div>

    <%#-------------------------------------------------%>
    <%# Alerts                                          %>
    <%#-------------------------------------------------%>
    <div id="FlashAlertsContainer" class="toast-container position-fixed bottom-0 start-50 translate-middle-x p-5">
      <%= flash_alert(flash) %>
    </div>

    <%#-------------------------------------------------%>
    <%# Mobile Buttons                                  %>
    <%#-------------------------------------------------%>
    <%= render partial: 'spree/admin/shared/mobile_only_controles' %>

    <%#-------------------------------------------------%>
    <%# Universal Modal                                 %>
    <%#-------------------------------------------------%>
    <%= turbo_frame_tag :modal %>

    <%#-------------------------------------------------%>
    <%# Custom Confirm Dialog                           %>
    <%#-------------------------------------------------%>
    <%= render partial: 'spree/admin/shared/custom_dialog' %>

    <%#-------------------------------------------------%>
    <%# Store Switcher                                  %>
    <%#-------------------------------------------------%>
    <%= render partial: 'spree/admin/shared/store_switcher' %>
  </body>
</html>
